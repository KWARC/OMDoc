\documentclass{standalone}
\usepackage{tikz,stex,amstext,amssymb}

\input{localpaths}
\begin{document}
\usetikzlibrary{shapes,arrows,mmt}
\def\thmo#1#2{\mathsf{#1}\colon\kern-.15em{#2}}
\providecommand\myxscale{3.9}
\providecommand\myyscale{2.2}
\providecommand\myfontsize{\footnotesize}
\begin{tikzpicture}[xscale=\myxscale,yscale=\myyscale]\myfontsize
\node[thy] (magma) at (1,-1.5) {\begin{tabular}{l}
                             \textsf{Magma}\\\hline
                             $G,\circ$\\\hline
                             $\scriptstyle x\circ y\in G$
                           \end{tabular}};
\node[thy] (sg) at (1.1,-.7) {\begin{tabular}{l}
                             \textsf{SemiGrp}\\\hline
                             \\\hline
                             $\scriptstyle \mathsf{assoc}: (x\circ y)\circ z=x\circ (y\circ z)$
                           \end{tabular}};
\node[thy] (m) at (1,.1) {\begin{tabular}{l}
                             \textsf{Monoid}\\\hline
                             $e$\\\hline
                             $\scriptstyle e\circ x=x$
                           \end{tabular}};
\node[thy] (g) at (1.5,1) {\begin{tabular}{l}
                             \textsf{Group}\\\hline
                             $i := \scriptstyle\lambda x.\tau y. x\circ y=e$\\\hline
                            $\scriptstyle\forall x:G.\exists y:G.x\circ y=e$
                           \end{tabular}};
\node[thy] (n) at (.5,1) {\begin{tabular}{l}
                             \textsf{NonGrpMon}\\\hline
                             \\\hline
                           $\scriptstyle\exists x:G.\forall y:G.x\circ y\ne e$
                           \end{tabular}};
\node[thy] (cg) at (1.5 ,2) {\begin{tabular}{l}
                             \textsf{CGroup}\\\hline
                             \\\hline
                            $\scriptstyle \mathsf{comm} : x\circ y=y\circ x$
                           \end{tabular}};
\node[thy] (r) at (.4,2) {\def\mr#1#2{#1\,\mathsf{m}\kern-.1em/\kern-.2em\circ\, #2}
                                       \def\ar#1#2{#1\,\mathsf{a}\kern-.1em/\kern-.2em\circ\, #2}
                            \begin{tabular}{l}
                             \textsf{Ring}\\\hline
                             \\\hline
                            $\scriptstyle \mr{x}{(\ar{y}z)}=\ar{(\mr{x}z)}{(\mr{y}z)}$\\
                            $\scriptstyle \ar{x}{(\mr{y}z)}=\rm{(\ar{x}z)}{(\ar{y}z)}$\\
                           \end{tabular}};
\node[thy] (N) at (-.7,-.9) {\begin{tabular}{l}
                             \textsf{NatNums}\\\hline
                             $\mathbb{N},s,0$\\\hline
                             $\scriptstyle P1$,\ldots $\scriptstyle P5$
                           \end{tabular}};
\node[thy] (Np) at (-.7,0) {\begin{tabular}{l}
                             \textsf{NatPlus}\\\hline
                             $+$\\\hline
                             $\scriptstyle n+0=n$,\\
                             $\scriptstyle n+s(m)=s(n+m)$
                           \end{tabular}};
\node[thy] (Nt) at (-.7,1) {\begin{tabular}{l}
                             \textsf{NatTimes}\\\hline
                             $\cdot$\\\hline
                             $\scriptstyle n\cdot1=n$,\\
                             $\scriptstyle n\cdot s(m)=n\cdot m+n$
                           \end{tabular}};
\node[thy] (ia) at (-.7,2) {\begin{tabular}{l}
                             \textsf{IntArith}\\\hline
                             $-$\\
                             $\mathbb{Z} := \mathbb{N}\cup-\mathbb{N}$\\\hline
                             $\scriptstyle-0=0$
                          \end{tabular}};
\node (phi) at (.25,-.3) {$\varphi=\left\{\begin{array}{l}
                                    G\mapsto\mathbb{N}\\
                                    \circ\mapsto \cdot\\
                                    e\mapsto 1\end{array}\right\}$};
\node (psi) at (.25,-1) {$\psi=\left\{\begin{array}{l}
                                    G\mapsto\mathbb{N}\\
                                    \circ\mapsto +\\
                                    e\mapsto 0\end{array}\right\}$};

\node (psip) at (.25,-1.55) {$\psi'=\left\{\begin{array}{l} 
                                           i\mapsto -\\
                                           \mathsf{g}\mapsto\mathsf{f}
                                         \end{array}\right\}$};
\node (theta) at (-.7,-1.55) {$\vartheta=\left\{\begin{array}{l}
                                    \mathsf{m}\mapsto\mathsf{e}\\
                                    \mathsf{a}\mapsto\mathsf{c}\end{array}\right\}$};
\draw[include] (N) -- (Np);                          
\draw[include] (Np) -- (Nt);                          
\draw[include] (Nt) -- (ia);                          
\draw[include] (magma) -- (sg);
\draw[include] (sg) -- (m);
\draw[include] (g) -- (cg);
\draw[view] (m) -- node[above] {$\thmo{e}\varphi$} (Nt);                          
\draw[view] (m) -- node[above,near end] {$\thmo{f}\psi$} (Np);                          
\draw[view] (cg) to[bend right=40] node[above] {$\thmo{d}{\psi'}$} (ia);                          
\draw[include] (m) -- node[left] (mg) {$\mathsf{g}$} (g);
\draw[view] (n) -- node[above] {$\thmo{c}\varphi$} (Nt);
\draw[include] (m) --  node[right] (mn){$\mathsf{ng}$} (n);
\draw[include] (cg) -- node[above] {$\mathsf{a}$} (r);
\draw[include] (m) to [bend right=20] node[right, near end] {$\mathsf{m}$} (r);
\draw[view] (r) -- node[above] {$\thmo{i}\vartheta$} (ia);
\draw[<->,dotted] (mg) -- (mn);
\draw[<->,dotted] (g) -- (n);
\end{tikzpicture}
\end{document}
%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
